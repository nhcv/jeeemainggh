<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JEE PYQ MCQ with Bookmark</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
    #question { font-size: 1.2em; margin-bottom: 10px; }
    #question-image { max-width: 300px; margin: 10px auto; display: block; }
    #options button { display: block; margin: 5px auto; padding: 10px; width: 100%; max-width: 300px; }
    #timer { margin-top: 10px; font-weight: bold; text-align: center; }
    #navigation { display: flex; justify-content: space-between; margin-top: 20px; }
    #navigation button { padding: 10px 20px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; }
    #navigation button:hover { background-color: #218838; }
    #solution { margin-top: 10px; color: blue; }
    #show-solution { display: inline-block; margin: 10px auto; background-color: #007bff; color: white; border: none; border-radius: 50px; padding: 8px 20px; font-size: 14px; cursor: pointer; }
    #show-solution:hover { background-color: #0056b3; }
    .center { display: flex; justify-content: center; align-items: center; }
    #bookmark-btn { position: absolute; top: 20px; right: 20px; background: none; border: none; cursor: pointer; font-size: 20px; color: grey; }
    #bookmark-btn.active { color: gold; }
  </style>
</head>
<body>

  <button id="bookmark-btn" title="Bookmark">&#9734;</button>

  <div id="question">Loading question...</div>
  <img id="question-image" src="" alt="Question Image" style="display:none;" />

  <div class="center">
    <button id="show-solution" onclick="showSolution()">Show Solution</button>
  </div>

  <div id="options"></div>
  <div id="timer">Time Taken: 00:00:00</div>

  <div id="navigation">
    <button onclick="prevQuestion()">Previous</button>
    <button onclick="nextQuestion()">Next</button>
  </div>

  <div id="solution" style="display:none;"></div>

  <script>
    const user = { loggedIn: false, bookmarks: [] };

    const questions = [
      { question: "Q1. If μ₀ and ε₀ are the permeability...", options: ["L/T²", "L²/T²", "T²/L", "T⁻¹L²"], answer: "L/T", solution: "Since c = 1/√(μ₀ε₀)...", image: "" },
      { question: "Q4. Match List-I with List-II", options: ["(1)...", "(2)...", "(3)...", "(4)..."], answer: "(1)...", solution: "Heat capacity → J/K...", image: "https://i.postimg.cc/2Sk0Fvmc/match-heat-list.png" }
      // Add other questions as needed...
    ];

    let currentIndex = 0, timer = 0, interval = null, answered = false;

    function formatTime(seconds) {
      const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
      const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
      const secs = String(seconds % 60).padStart(2, '0');
      return `${hrs}:${mins}:${secs}`;
    }

    function startTimer() {
      timer = 0;
      interval = setInterval(() => {
        timer++;
        document.getElementById("timer").textContent = `Time Taken: ${formatTime(timer)}`;
      }, 1000);
    }

    function showQuestion() {
      const q = questions[currentIndex];
      document.getElementById("question").textContent = q.question;

      if (q.image) {
        document.getElementById("question-image").src = q.image;
        document.getElementById("question-image").style.display = "block";
      } else {
        document.getElementById("question-image").style.display = "none";
      }

      const optionsContainer = document.getElementById("options");
      optionsContainer.innerHTML = "";
      q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.textContent = option;
        btn.onclick = () => selectOption(btn);
        optionsContainer.appendChild(btn);
      });

      timer = 0;
      document.getElementById("timer").textContent = "Time Taken: 00:00:00";
      answered = false;
      clearInterval(interval);
      startTimer();

      document.getElementById("solution").style.display = "none";
      document.getElementById("solution").innerHTML = "";
      document.getElementById("show-solution").style.display = "inline-block";

      updateBookmarkIcon();
    }

    function selectOption(btn) {
      if (answered) return;
      answered = true;
      clearInterval(interval);

      const q = questions[currentIndex];
      const btns = document.querySelectorAll("#options button");

      if (btn.textContent === q.answer) {
        btn.style.backgroundColor = "green";
      } else {
        btn.style.backgroundColor = "red";
        btns.forEach(b => {
          if (b.textContent === q.answer) b.style.backgroundColor = "green";
        });
      }
    }

    function showSolution() {
      const q = questions[currentIndex];
      if (!answered) {
        answered = true;
        clearInterval(interval);
        const btns = document.querySelectorAll("#options button");
        btns.forEach(b => {
          if (b.textContent === q.answer) b.style.backgroundColor = "green";
          b.onclick = null;
        });
      }

      document.getElementById("solution").innerHTML = q.solution || "No solution provided.";
      document.getElementById("solution").style.display = "block";
      document.getElementById("show-solution").style.display = "none";
    }

    function nextQuestion() {
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        showQuestion();
      }
    }

    function prevQuestion() {
      if (currentIndex > 0) {
        currentIndex--;
        showQuestion();
      }
    }

    function updateBookmarkIcon() {
      const btn = document.getElementById("bookmark-btn");
      if (user.bookmarks.includes(currentIndex)) {
        btn.classList.add("active");
        btn.innerHTML = "&#9733;";
      } else {
        btn.classList.remove("active");
        btn.innerHTML = "&#9734;";
      }
    }

    function bookmarkQuestion() {
      if (!user.loggedIn) {
        const choice = confirm("Login required. Login with Gmail?");
        if (choice) {
          user.loggedIn = true;
          alert("Logged in with Gmail (dummy)");
        } else {
          return;
        }
      }

      const index = currentIndex;
      if (user.bookmarks.includes(index)) {
        user.bookmarks = user.bookmarks.filter(i => i !== index);
        alert("Bookmark removed.");
      } else {
        user.bookmarks.push(index);
        alert("Question bookmarked!");
      }
      updateBookmarkIcon();
    }

    document.getElementById("bookmark-btn").addEventListener("click", bookmarkQuestion);

    showQuestion();
  </script>

</body>
</html>